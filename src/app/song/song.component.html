<!-- Button za modal ADD SONG-->
<div class="container">

  <button (click)="getCategories()"
          type="button" class="btn btn-danger" style="padding-top: 10px; margin: 12px "
          data-toggle="modal"
          data-target="#addSong"><i class="fas fa-plus" style="font-size: 18px; padding-right: 10px; color: #ffffff"></i>ADD NEW SONG
  </button>
  <!-- Button za modal ADD Category-->
  <button (click)="getCategories()"
          type="button" class="btn btn-secondary" style="padding-top: 10px; margin: 12px "
          data-toggle="modal"
          data-target="#addCategory"><i class="fas fa-plus" style="font-size: 18px; padding-right: 10px; color: #ffffff"></i>ADD NEW CATEGORY
  </button>

</div>


<!-- MODAL ZA DODAVANJE PJESME -->

<div class="modal fade" id="addSong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">


      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add New Song</h5>
        <button type="button" class="btn-close" aria-label="Close" data-dismiss="modal">

        </button>
      </div>


      <div class="modal-body">
        <form>

          <div class="form-group">
            <label for="title">Song title</label>
            <input type="text" class="form-control" id="title" required [(ngModel)]="song.title"
                   name="title">
          </div>

          <div class="form-group">
            <label for="artist">Song artist</label>
            <input type="text" class="form-control" id="artist" required [(ngModel)]="song.artist"
                   name="artist">
          </div>


          <!-- BUTTON ZA DODAVANJE KATEGORIJE UNUTAR SONG MODALA -->
          <button type="button" class="btn btn-primary" style="margin-top: 20px;"
                  data-toggle="modal"
                  data-target="#addCategory">Add new category
          </button>

          <div class="form-group">
            <label for="category">Or select from the list below</label>
            <select [(ngModel)]="song.categoryId" class="form-control" name="category" id="category">
              <option *ngFor="let category of categoryList" [ngValue]="category.id">{{category.name}}</option>
            </select>
          </div>
        </form>


        <div class="modal-footer">
          <button type="button" class="btn btn-info" id="btn" data-dismiss="modal"
                  (click)="saveSong()">Save
          </button>
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- MODAL ZA DODAVANJE kategorije -->
<div class="modal fade" id="addCategory" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">


      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel2">Add Category</h5>
        <button type="button" class="btn-close" aria-label="Close" data-dismiss="modal">

        </button>
      </div>


      <div class="modal-body">
        <form id="prevent">

          <div class="form-group">
            <label for="title1">Title</label>
            <input type="text" class="form-control" id="title1" required [(ngModel)]="category.name" name="title1">
          </div>


          <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="prevent1" data-dismiss="modal"
                    (click)="saveCategory()">OK
            </button>
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!-- PRIKAZ KATEGORIJA -->
<div class='col-xs-12' style="padding-bottom: 20px; margin: auto; text-align: center">
  <div class="title"><h5>Select category</h5></div>
  <button class="btn btn-outline-primary" style="margin: 0 5px 0 0 "
          *ngFor="let cat of categoryList;"
          [ngClass]="{'active': cat === selectedCategory}"
          (click)="selectCategory(cat)">
    <h6>{{cat.name}}</h6>
  </button>
  <button type="button" class="btn btn-warning" (click)="clearSelected()">Show All</button>
</div>


<!-- LISTA PJESAMA SA SEARCH BAR-om-->

<div class="container">
  <div class="card p-3">
    <div class="row">
      <div class="col-10" style="margin:10px auto">
        <input class="form-control" type="text" [(ngModel)]="title" name="title" placeholder="Search by song title ..."
               autocomplete="off" (ngModelChange)="Search()">
      </div>

      <div class="card-group">
        <div style="padding: 5px" *ngFor="let song of songList">
          <div class="card mt-lg-auto">
            <img src="./assets/song.jpg" class="card-img-top" width="300" height="110" alt="slika">

            <div class="card-body">
              <p>Song title: <strong> {{song.title}}</strong></p>
              <p>Artist: <strong>{{song.artist}}</strong></p>
            </div>

            <div class="btn btn_group">

              <i class="fas fa-trash" style="font-size: 25px; padding: 15px; color: #ef3e3e" data-toggle="modal"
                 data-target="#confirmation"></i>
              <i class="fas fa-edit" style="font-size: 25px; padding: 15px; color: #185ed4"></i>
            </div>
            <!-- MODAL ZA DODAVANJE PJESME -->

            <div class="modal fade" id="confirmation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">

                  <div class="modal-header">
                    <h5 class="modal-title">Confirm delete</h5>
                    <button type="button" class="btn-close" aria-label="Close" data-dismiss="modal">
                    </button>
                  </div>
                  <div class="modal-body">
                    <p style="font-size: 18px">Are you sure you want to delete this song ? </p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger" id="prevent3" data-dismiss="modal"
                            (click)="deleteSong(song.id)">Delete
                    </button>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>


    </div>
  </div>

</div>
